# プロを目指す人のための TypeScript 入門　安全なコードの書き方から高度な型の使い方まで

## 第 1 章

- 型情報は挙動そのものには影響を与えない

## 第 2 章 基本的な文法・基本的な型

- JS、TS は数値計算が必要なプロジェクトには向かなさそう
  - IEEE 754 倍精度浮動小数点数であるため
  - 0.1+0.2 とかをするとおかしくなる
  - 整数の計算なら BigInt という型があるからできなくはない
  - 小数の計算には専用ライブラリがいる
- NaN は boolean 型で false になる
- ==で比較する場合は両者の型を暗黙的に変換する
  - 3=="3"とかで true が返ってくる
  - 基本は===を使うべき(型が違うことを検出してくれる)
  - 比較対象が空か判別する際には便利
    - (変数==null)としておくと変数が null でも undefined でも検出してくれる
- boolean に変換する手段として!(!変数)とすると便利
  - 可読性考えるとどうなんだろうとは思うが
- x||y とすると x が true に変換できる場合は x,それ以外は y を返す
- x??y は x が null or undefinded のときに y を返してそれ以外は x を返す
  - デフォルト値にしたいときに便利そう

## 第三章

- interface ではオブジェクトしか型を定義できないが type ではそれ以外にも型を定義できる
- type 名前<>とすると型引数やジェネリクス型といった概念を使える
  - 実務ではそんな見ない気がする
  - ただライブラリの内部とかだとよく見る気がするので理解しておくに越したことはないのかも
- スプレッド構文はオブジェクトの中身を一部だけ更新したいときに便利
  - なのになぜか自分は高確率で忘れる
  - rest 引数と区別をしっかりつけるように

## 第四章

- プロパティが少ない方(S)と多い方(T)があったとき、S が T の部分型といえる
- 部分型関係のあるオブジェクト同士で型が変わってもプロパティが変わることはない
- 関数は引数は反変、返り値は共変の関係になる場合に部分型であると言える

## 第五章

- TS のコンストラクタは readonly にも代入できる
- TS のクラスのプロパティには生成時もしくはコンストラクタで代入されてないとエラーになる
- プロパティとコンストラクタはプロパティに代入するだけなら簡略化できる
  - だたしプロパティが見にくくなるので一長一短
- private の代わりに#を使うこともできる
  - private で慣れてるので個人的にはあまりやりたくはないが
  - (#)の方は JS 由来、private は TS 由来なので#の方が制限キツめなのでおすすめ
- TS ではオーバーライドを明示的に宣言できる
- implements は type にも適用できる
- finally は try-catch で例外が出ようと出まいと実行される

## 第六章

- ユニオン型とセクション型は表裏一体
- ?.はそれ以降のプロパティアクセス・関数呼び出し・メソッド呼び出しをまとめて飛ばす効果を持つ
- TS では型の絞り込みができる
- lookup 型は T[K]とすることで型 T のプロパティの K の型を示すことができる
  - 型のプロパティと型を一致させたい場合には便利
- keyof 型は型からプロパティ名のユニオン型をつくれる
  - keyof typeof 変数 で変数のプロパティの型をつくれる
- 型アサーションは型を強制的に決めれる
  - ユニオン型を絞り込むとか
  - ただし型安全を破壊するので安易には使わないこと
- 式!は式が undefined や null である可能性を排除する
  - 型アサーション同様に危険なので注意
- as const は結構使える
  - widening しないリテラル型にできる
  - 基本的には as const がつけられた式に登場する各種リテラルを「変更できない」ものとして扱う

## 感想

TS の基礎的な知識から役に立ちそうな使用方法、どこで使うねんってレベルの構文までいろいろだったが TS を業務で使うなら一度は読んでおくといいんじゃないかと思う。
一方あまりに膨大な内容の本なので一周読んで役立てるというより辞書みたいな使い方をしてもいいかも。
